/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import { StatusReason, StatusReason$inboundSchema } from "./statusreason.js";

export type Credentials = {};

export enum LinkedAccountStatus {
  Active = "active",
  Inactive = "inactive",
  Suspended = "suspended",
  Archived = "archived",
  Expired = "expired",
  Error = "error",
}
export type LinkedAccountStatusOpen = OpenEnum<typeof LinkedAccountStatus>;

/**
 * The account type
 */
export enum LinkedAccountType {
  Production = "production",
  Test = "test",
  UnmappedValue = "unmapped_value",
}
/**
 * The account type
 */
export type LinkedAccountTypeOpen = OpenEnum<typeof LinkedAccountType>;

export type LinkedAccount = {
  createdAt: Date;
  credentials?: Credentials | null | undefined;
  id: string;
  label?: string | null | undefined;
  originOwnerId: string;
  originOwnerName: string;
  originUsername?: string | null | undefined;
  provider: string;
  providerName?: string | null | undefined;
  setupInformation?: { [k: string]: any } | null | undefined;
  status: LinkedAccountStatusOpen;
  statusReasons?: Array<StatusReason> | null | undefined;
  /**
   * The account type
   */
  type?: LinkedAccountTypeOpen | null | undefined;
  updatedAt: Date;
};

/** @internal */
export const Credentials$inboundSchema: z.ZodType<
  Credentials,
  z.ZodTypeDef,
  unknown
> = z.object({});

export function credentialsFromJSON(
  jsonString: string,
): SafeParseResult<Credentials, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Credentials$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Credentials' from JSON`,
  );
}

/** @internal */
export const LinkedAccountStatus$inboundSchema: z.ZodType<
  LinkedAccountStatusOpen,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(LinkedAccountStatus);

/** @internal */
export const LinkedAccountType$inboundSchema: z.ZodType<
  LinkedAccountTypeOpen,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(LinkedAccountType);

/** @internal */
export const LinkedAccount$inboundSchema: z.ZodType<
  LinkedAccount,
  z.ZodTypeDef,
  unknown
> = z.object({
  created_at: z.string().datetime({ offset: true }).transform(v => new Date(v)),
  credentials: z.nullable(z.lazy(() => Credentials$inboundSchema)).optional(),
  id: z.string(),
  label: z.nullable(z.string()).optional(),
  origin_owner_id: z.string(),
  origin_owner_name: z.string(),
  origin_username: z.nullable(z.string()).optional(),
  provider: z.string(),
  provider_name: z.nullable(z.string()).optional(),
  setup_information: z.nullable(z.record(z.any())).optional(),
  status: LinkedAccountStatus$inboundSchema,
  status_reasons: z.nullable(z.array(StatusReason$inboundSchema)).optional(),
  type: z.nullable(LinkedAccountType$inboundSchema).optional(),
  updated_at: z.string().datetime({ offset: true }).transform(v => new Date(v)),
}).transform((v) => {
  return remap$(v, {
    "created_at": "createdAt",
    "origin_owner_id": "originOwnerId",
    "origin_owner_name": "originOwnerName",
    "origin_username": "originUsername",
    "provider_name": "providerName",
    "setup_information": "setupInformation",
    "status_reasons": "statusReasons",
    "updated_at": "updatedAt",
  });
});

export function linkedAccountFromJSON(
  jsonString: string,
): SafeParseResult<LinkedAccount, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => LinkedAccount$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'LinkedAccount' from JSON`,
  );
}
