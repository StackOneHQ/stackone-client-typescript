/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export enum Categories {
  Ats = "ats",
  Hris = "hris",
  HrisLegacy = "hris-legacy",
  Crm = "crm",
  Iam = "iam",
  Marketing = "marketing",
  Lms = "lms",
  Stackone = "stackone",
  Documents = "documents",
  Ticketing = "ticketing",
  Screening = "screening",
  Messaging = "messaging",
  Accounting = "accounting",
  Scheduling = "scheduling",
}

/**
 * Arbitrary set of key and values defined during the session token creation. This can be used to tag an account (eg. based on their pricing plan)
 */
export type Metadata = {};

/**
 * The connect session account type
 */
export enum ConnectSessionType {
  Production = "production",
  Test = "test",
  UnmappedValue = "unmapped_value",
}
/**
 * The connect session account type
 */
export type ConnectSessionTypeOpen = OpenEnum<typeof ConnectSessionType>;

export type ConnectSession = {
  accountId?: string | null | undefined;
  categories?: Array<Categories> | null | undefined;
  createdAt: Date;
  /**
   * External trigger token to be used to trigger actions on the account
   */
  externalTriggerToken?: string | null | undefined;
  id: number;
  /**
   * The integration ID (UUID) associated with this connect session
   */
  integrationId?: string | null | undefined;
  label?: string | null | undefined;
  /**
   * Arbitrary set of key and values defined during the session token creation. This can be used to tag an account (eg. based on their pricing plan)
   */
  metadata?: Metadata | null | undefined;
  organizationId: number;
  originOwnerId: string;
  originOwnerName: string;
  originUsername?: string | null | undefined;
  projectId: string;
  provider?: string | null | undefined;
  /**
   * The connect session account type
   */
  type?: ConnectSessionTypeOpen | null | undefined;
};

/** @internal */
export const Categories$inboundSchema: z.ZodNativeEnum<typeof Categories> = z
  .nativeEnum(Categories);

/** @internal */
export const Metadata$inboundSchema: z.ZodType<
  Metadata,
  z.ZodTypeDef,
  unknown
> = z.object({});

export function metadataFromJSON(
  jsonString: string,
): SafeParseResult<Metadata, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Metadata$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Metadata' from JSON`,
  );
}

/** @internal */
export const ConnectSessionType$inboundSchema: z.ZodType<
  ConnectSessionTypeOpen,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(ConnectSessionType);

/** @internal */
export const ConnectSession$inboundSchema: z.ZodType<
  ConnectSession,
  z.ZodTypeDef,
  unknown
> = z.object({
  account_id: z.nullable(z.string()).optional(),
  categories: z.nullable(z.array(Categories$inboundSchema)).optional(),
  created_at: z.string().datetime({ offset: true }).transform(v => new Date(v)),
  external_trigger_token: z.nullable(z.string()).optional(),
  id: z.number(),
  integration_id: z.nullable(z.string()).optional(),
  label: z.nullable(z.string()).optional(),
  metadata: z.nullable(z.lazy(() => Metadata$inboundSchema)).optional(),
  organization_id: z.number(),
  origin_owner_id: z.string(),
  origin_owner_name: z.string(),
  origin_username: z.nullable(z.string()).optional(),
  project_id: z.string(),
  provider: z.nullable(z.string()).optional(),
  type: z.nullable(ConnectSessionType$inboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    "account_id": "accountId",
    "created_at": "createdAt",
    "external_trigger_token": "externalTriggerToken",
    "integration_id": "integrationId",
    "organization_id": "organizationId",
    "origin_owner_id": "originOwnerId",
    "origin_owner_name": "originOwnerName",
    "origin_username": "originUsername",
    "project_id": "projectId",
  });
});

export function connectSessionFromJSON(
  jsonString: string,
): SafeParseResult<ConnectSession, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ConnectSession$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ConnectSession' from JSON`,
  );
}
